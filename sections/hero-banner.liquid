{% schema %}
{
  "name": "Hero Banner",
  "settings": [
    { "type": "select", "id": "background_type", "label": "Section Background Type", "options": [
        { "value": "solid", "label": "Solid Color" },
        { "value": "gradient", "label": "Gradient" }
      ], "default": "gradient"
    },
    { "type": "color", "id": "background_color", "label": "Solid Background Color", "default": "#082024" },
    { "type": "color", "id": "gradient_color_1", "label": "Gradient Color 1", "default": "#082024" },
    { "type": "color", "id": "gradient_color_2", "label": "Gradient Color 2", "default": "#10343B" },
    { "type": "select", "id": "gradient_direction", "label": "Gradient Direction", "options": [
        { "value": "to right", "label": "Left to Right" },
        { "value": "to left", "label": "Right to Left" },
        { "value": "to bottom", "label": "Top to Bottom" },
        { "value": "to top", "label": "Bottom to Top" },
        { "value": "135deg", "label": "Diagonal ↘︎" },
        { "value": "225deg", "label": "Diagonal ↙︎" }
      ], "default": "to bottom"
    },
    { "type": "image_picker", "id": "background_image", "label": "Section Background Image" },
    { "type": "select", "id": "background_image_focal_point", "label": "Background Image Focal Point", "default": "center", "options": [
      { "value": "center", "label": "Center" },
      { "value": "top", "label": "Top" },
      { "value": "bottom", "label": "Bottom" },
      { "value": "left", "label": "Left" },
      { "value": "right", "label": "Right" },
      { "value": "top left", "label": "Top Left" },
      { "value": "top right", "label": "Top Right" },
      { "value": "bottom left", "label": "Bottom Left" },
      { "value": "bottom right", "label": "Bottom Right" }
    ] },
    { "type": "select", "id": "background_image_size", "label": "Background Image Size", "default": "cover", "options": [
        { "value": "cover", "label": "Cover" },
        { "value": "contain", "label": "Contain" },
        { "value": "auto", "label": "Original Size" }
      ]
    },
    { "type": "select", "id": "background_image_repeat", "label": "Background Image Repeat", "default": "no-repeat", "options": [
        { "value": "no-repeat", "label": "No Repeat" },
        { "value": "repeat", "label": "Repeat" }
      ]
    },
    { "type": "select", "id": "background_image_attachment", "label": "Background Image Scroll", "default": "scroll", "options": [
        { "value": "scroll", "label": "Scrolls with Page" },
        { "value": "fixed", "label": "Stays in Place (Parallax)" }
      ]
    },
    { "type": "range", "id": "padding_top", "label": "Section Padding Top (rem)", "min": 0, "max": 12, "step": 1, "default": 6 },
    { "type": "range", "id": "padding_bottom", "label": "Section Padding Bottom (rem)", "min": 0, "max": 12, "step": 1, "default": 6 },
    { "type": "range", "id": "margin_top", "label": "Section Margin Top (rem)", "min": 0, "max": 12, "step": 1, "default": 0 },
    { "type": "range", "id": "margin_bottom", "label": "Section Margin Bottom (rem)", "min": 0, "max": 12, "step": 1, "default": 0 },
    { "type": "text", "id": "hero_slogan", "label": "Slogan (above headline)", "default": "Next Generation Health Monitoring" },
    { "type": "range", "id": "slogan_font_size", "label": "Slogan Font Size (px)", "default": 15, "min": 12, "max": 64, "step": 1 },
    { "type": "color", "id": "slogan_text_color", "label": "Slogan Text Color", "default": "#d4af37" },
    { "type": "color_background", "id": "slogan_bg_gradient", "label": "Slogan Background Gradient", "default": "linear-gradient(to right, rgba(17,94,104,0.2), rgba(212,175,55,0.2))" },
    { "type": "text", "id": "hero_headline_primary", "label": "Primary Headline", "default": "TRACK WHAT MATTERS." },
    { "type": "range", "id": "headline_primary_font_size", "label": "Primary Headline Font Size (px)", "default": 35, "min": 16, "max": 96, "step": 1 },
    { "type": "color_background", "id": "headline_primary_gradient", "label": "Primary Headline Gradient", "default": "linear-gradient(100deg, #fff 12%, #f8fafc 60%, #e5e8ec 100%)" },
    { "type": "text", "id": "hero_headline_secondary", "label": "Secondary Headline", "default": "IMPROVE WHAT COUNTS." },
    { "type": "range", "id": "headline_secondary_font_size", "label": "Secondary Headline Font Size (px)", "default": 35, "min": 16, "max": 96, "step": 1 },
    { "type": "color_background", "id": "headline_secondary_gradient", "label": "Secondary Headline Gradient", "default": "linear-gradient(90deg, #d4af37 8%, #e0c23f 36%, #b7bc42 53%, #8c9c3f 61%, #5b7f5f 75%, #347e72 88%, #2c5f63 100%)" },
    { "type": "header", "content": "Headline Advanced Typography" },
    { "type": "select", "id": "headline_font_weight", "label": "Headline Font Weight", "default": "bold", "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "bold", "label": "Bold" }
      ]
    },
    { "type": "range", "id": "headline_letter_spacing", "label": "Headline Letter Spacing (em)", "min": -0.1, "max": 0.2, "step": 0.1, "default": 0.0 },
    { "type": "range", "id": "headline_line_height", "label": "Headline Line Height", "min": 1, "max": 1.5, "step": 0.1, "default": 1.1 },
    { "type": "richtext", "id": "hero_subheadline", "label": "Subheadline", "default": "<p>Real-time insights on heart rate, oxygen, sleep, and movement — for people who measure progress, not gimmicks.</p>" },
    { "type": "range", "id": "subheadline_font_size", "label": "Subheadline Font Size (px)", "default": 15, "min": 12, "max": 48, "step": 1 },
    { "type": "header", "content": "Subheadline Advanced Typography" },
    { "type": "select", "id": "subheadline_font_weight", "label": "Subheadline Font Weight", "default": "normal", "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "bold", "label": "Bold" }
      ]
    },
    { "type": "range", "id": "subheadline_letter_spacing", "label": "Subheadline Letter Spacing (em)", "min": -0.1, "max": 0.2, "step": 0.1, "default": 0.0 },
    { "type": "range", "id": "subheadline_line_height", "label": "Subheadline Line Height", "min": 1, "max": 2, "step": 0.1, "default": 1.3 },
    { "type": "select", "id": "banner_alignment", "label": "Content Alignment", "default": "center", "options": [
      { "value": "left", "label": "Left" },
      { "value": "center", "label": "Center" },
      { "value": "right", "label": "Right" }
    ] },
    { "type": "header", "content": "Button Advanced Typography" },
    { "type": "select", "id": "button_font_weight", "label": "Button Font Weight", "default": "bold", "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "bold", "label": "Bold" }
      ]
    },
    { "type": "range", "id": "button_letter_spacing", "label": "Button Letter Spacing (em)", "min": -0.1, "max": 0.2, "step": 0.1, "default": 0.0 },
    { "type": "range", "id": "button_line_height", "label": "Button Line Height", "min": 1, "max": 2, "step": 0.1, "default": 1.2 },
    { "type": "range", "id": "button_font_size", "label": "Button Font Size (px)", "min": 12, "max": 48, "step": 1, "default": 12 },
    { "type": "text", "id": "primary_button_text", "label": "Primary Button Text", "default": "Start Your Journey" },
    { "type": "url", "id": "primary_button_link", "label": "Primary Button Link", "default": "/collections/all" },
    { "type": "color", "id": "primary_button_bg", "label": "Primary Button Background", "default": "#d4af37" },
    { "type": "color", "id": "primary_button_text_color", "label": "Primary Button Text Color", "default": "#082024" },
    { "type": "color", "id": "primary_button_hover_bg", "label": "Primary Button Hover Background", "default": "#f4d03f" },
    { "type": "color", "id": "primary_button_hover_text_color", "label": "Primary Button Hover Text Color", "default": "#082024" },
    { "type": "text", "id": "secondary_button_text", "label": "Secondary Button Text", "default": "Watch Demo" },
    { "type": "url", "id": "secondary_button_link", "label": "Secondary Button Link", "default": "/" },
    { "type": "color", "id": "secondary_button_bg", "label": "Secondary Button Background", "default": "#ffffff" },
    { "type": "color", "id": "secondary_button_text_color", "label": "Secondary Button Text Color", "default": "#d4af37" },
    { "type": "color", "id": "secondary_button_hover_bg", "label": "Secondary Button Hover Background", "default": "#d4af37" },
    { "type": "color", "id": "secondary_button_hover_text_color", "label": "Secondary Button Hover Text Color", "default": "#082024" },
    { "type": "text", "id": "video_url", "label": "Video Modal URL (YouTube, Vimeo, MP4)", "default": "/" },
    { "type": "checkbox", "id": "video_autoplay", "label": "Autoplay Video Modal", "default": true },
    { "type": "checkbox", "id": "show_scroll_indicator", "label": "Show Scroll Indicator", "default": true },
    { "type": "select", "id": "animation_type", "label": "Headline Animation", "default": "fade-in", "options": [
        { "value": "none", "label": "None" },
        { "value": "fade-in", "label": "Fade In" },
        { "value": "slide-up", "label": "Slide Up" },
        { "value": "zoom-in", "label": "Zoom In" },
        { "value": "bounce", "label": "Bounce" }
      ]
    },
    { "type": "range", "id": "animation_duration", "label": "Animation Duration (ms)", "min": 100, "max": 3000, "step": 100, "default": 800 },
    { "type": "range", "id": "animation_delay", "label": "Animation Delay (ms)", "min": 0, "max": 2000, "step": 100, "default": 0 }
  ],
  "presets": [
    { "name": "Hero Banner" }
  ]
}
{% endschema %}

{% assign pad_top = section.settings.padding_top | default: 6 %}
{% assign pad_bottom = section.settings.padding_bottom | default: 6 %}
{% assign margin_top = section.settings.margin_top | default: 0 %}
{% assign margin_bottom = section.settings.margin_bottom | default: 0 %}
{% assign bg_position = section.settings.background_image_focal_point | default: "center" %}

{% if section.settings.background_type == 'solid' %}
  {% assign hero_bg = section.settings.background_color %}
{% elsif section.settings.background_type == 'gradient' %}
  {% assign hero_bg = 'linear-gradient(' | append: section.settings.gradient_direction | append: ', ' | append: section.settings.gradient_color_1 | append: ', ' | append: section.settings.gradient_color_2 | append: ')' %}
{% endif %}

{% assign animation_class = '' %}
{% case section.settings.animation_type %}
  {% when 'fade-in' %} {% assign animation_class = 'animate-fade-in' %}
  {% when 'slide-up' %} {% assign animation_class = 'animate-slide-up' %}
  {% when 'zoom-in' %} {% assign animation_class = 'animate-zoom-in' %}
  {% when 'bounce' %} {% assign animation_class = 'animate-bounce' %}
  {% else %} {% assign animation_class = '' %}
{% endcase %}

<style>
.hero-banner-bg-{{ section.id }} {
  position: relative;
  min-height: 100vh;
  width: 100vw;
  margin-top: {{ margin_top }}rem;
  margin-bottom: {{ margin_bottom }}rem;
  padding-top: {{ pad_top }}rem;
  padding-bottom: {{ pad_bottom }}rem;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  overflow: hidden;
  background: {{ hero_bg }};
}
.hero-bgimage-{{ section.id }} {
  position: absolute;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  opacity: 1;
  pointer-events: none;
}
.hero-slogan--{{ section.id }} {
  font-size: {{ section.settings.slogan_font_size }}px;
  color: {{ section.settings.slogan_text_color }};
  background: {{ section.settings.slogan_bg_gradient }};
  padding: 0.3em 1.2em;
  border-radius: 9999px;
  font-weight: 600;
  display: inline-block;
  border: 2px solid #d4af37;
}

.hero-headline-primary--{{ section.id }} {
  font-size: {{ section.settings.headline_primary_font_size }}px;
  background: {{ section.settings.headline_primary_gradient }};
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
  font-weight: {{ section.settings.headline_font_weight }};
  letter-spacing: {{ section.settings.headline_letter_spacing }}em;
  line-height: {{ section.settings.headline_line_height }};
  margin-bottom: 0.15em;
  transition: background 0.3s;
  display: block;
}

.hero-headline-secondary--{{ section.id }} {
  font-size: {{ section.settings.headline_secondary_font_size }}px;
  background: {{ section.settings.headline_secondary_gradient }};
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
  font-weight: {{ section.settings.headline_font_weight }};
  letter-spacing: {{ section.settings.headline_letter_spacing }}em;
  line-height: {{ section.settings.headline_line_height }};
  margin-bottom: 0.15em;
  transition: background 0.3s;
  display: block;
}

.hero-subheadline--{{ section.id }} {
  font-size: {{ section.settings.subheadline_font_size }}px;
  font-weight: {{ section.settings.subheadline_font_weight }};
  letter-spacing: {{ section.settings.subheadline_letter_spacing }}em;
  line-height: {{ section.settings.subheadline_line_height }};
  color: #f8fafc;
  opacity: 0.9;
  margin-bottom: 2.5rem;
  max-width: 44rem;
  margin-left: auto;
  margin-right: auto;
}

.hero-primary-btn-{{ section.id }} {
  background: {{ section.settings.primary_button_bg }};
  color: {{ section.settings.primary_button_text_color }};
  border: none;
  border-radius: 9999px;
  font-size: {{ section.settings.button_font_size }}px;
  font-weight: {{ section.settings.button_font_weight }};
  letter-spacing: {{ section.settings.button_letter_spacing }}em;
  line-height: {{ section.settings.button_line_height }};
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 1.25rem 2.75rem;
  transition: background 0.2s, color 0.2s, border 0.2s, transform 0.15s;
  cursor: pointer;
  box-shadow: 0 2px 16px 0 rgba(212, 175, 55, 0.10);
  outline: none;
}
.hero-primary-btn-{{ section.id }}:hover,
.hero-primary-btn-{{ section.id }}:focus {
  background: {{ section.settings.primary_button_hover_bg }};
  color: {{ section.settings.primary_button_hover_text_color }};
  transform: scale(1.05);
  box-shadow: 0 4px 28px 0 rgba(212, 175, 55, 0.18);
}
.hero-secondary-btn-{{ section.id }} {
  background: {{ section.settings.secondary_button_bg }};
  color: {{ section.settings.secondary_button_text_color }};
  border: 2px solid #d4af37;
  border-radius: 9999px;
  font-size: {{ section.settings.button_font_size }}px;
  font-weight: {{ section.settings.button_font_weight }};
  letter-spacing: {{ section.settings.button_letter_spacing }}em;
  line-height: {{ section.settings.button_line_height }};
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 1.25rem 2.75rem;
  transition: background 0.2s, color 0.2s, border 0.2s, transform 0.15s;
  cursor: pointer;
  box-shadow: 0 2px 16px 0 rgba(212, 175, 55, 0.10);
}
.hero-secondary-btn-{{ section.id }}:hover,
.hero-secondary-btn-{{ section.id }}:focus {
  background: {{ section.settings.secondary_button_hover_bg }};
  color: {{ section.settings.secondary_button_hover_text_color }};
  border-color: {{ section.settings.secondary_button_hover_bg }};
  transform: scale(1.05);
  box-shadow: 0 4px 24px 0 rgba(212, 175, 55, 0.13);
}
/* Animation classes (minimal) */
.animate-fade-in { opacity: 0; animation: fadeIn-{{ section.id }} {{ section.settings.animation_duration }}ms {{ section.settings.animation_delay }}ms forwards; }
@keyframes fadeIn-{{ section.id }} { to { opacity: 1; } }
.animate-slide-up { opacity: 0; transform: translateY(30px); animation: slideUp-{{ section.id }} {{ section.settings.animation_duration }}ms {{ section.settings.animation_delay }}ms forwards; }
@keyframes slideUp-{{ section.id }} { to { opacity: 1; transform: translateY(0); } }
.animate-zoom-in { opacity: 0; transform: scale(0.8); animation: zoomIn-{{ section.id }} {{ section.settings.animation_duration }}ms {{ section.settings.animation_delay }}ms forwards; }
@keyframes zoomIn-{{ section.id }} { to { opacity: 1; transform: scale(1); } }
.animate-bounce { opacity: 0; animation: bounceIn-{{ section.id }} {{ section.settings.animation_duration }}ms {{ section.settings.animation_delay }}ms forwards; }
@keyframes bounceIn-{{ section.id }} {
  0% { opacity: 0; transform: scale(0.5); }
  60% { opacity: 1; transform: scale(1.1);}
  80% { transform: scale(0.95);}
  100% { opacity: 1; transform: scale(1);}
}
</style>

<section class="hero-banner-bg-{{ section.id }}">
  {% if section.settings.background_image != blank %}
    <div
      class="hero-bgimage-{{ section.id }}"
      style="
        background-image: url('{{ section.settings.background_image | image_url: width: 2000 }}');
        background-size: {{ section.settings.background_image_size }};
        background-repeat: {{ section.settings.background_image_repeat }};
        background-position: {{ bg_position }};
        background-attachment: {{ section.settings.background_image_attachment }};
      ">
    </div>
  {% endif %}
  <div class="relative z-0 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 flex flex-col
    {% case section.settings.banner_alignment %}
      {% when 'left' %} text-left items-start
      {% when 'right' %} text-right items-end
      {% else %} text-center items-center
    {% endcase %}

    
    {{ animation_class }}">
    <!-- Slogan Badge -->
    <div class="mb-6 w-full">
      <span class="hero-slogan--{{ section.id }}">
        {{ section.settings.hero_slogan }}
      </span>
    </div>
    <!-- Headline Structure -->
    <h1 class="mb-0 pb-0">
      <span class="hero-headline-primary--{{ section.id }}">
        {{ section.settings.hero_headline_primary }}
      </span>
    </h1>
    <h1 class="mt-0 pt-0">
      <span class="hero-headline-secondary--{{ section.id }}">
        {{ section.settings.hero_headline_secondary }}
      </span>
    </h1>
    <!-- Subheadline -->
    <div class="hero-subheadline--{{ section.id }}">
      {{ section.settings.hero_subheadline }}
    </div>
    <!-- CTA Buttons -->
    <div class="flex flex-col sm:flex-row gap-6 justify-center items-center mb-16">
      <a href="{{ section.settings.primary_button_link }}"
         class="hero-primary-btn-{{ section.id }}"
         role="button"
         aria-label="{{ section.settings.primary_button_text | escape }} for {{ section.settings.hero_headline_primary | escape }}"
         title="{{ section.settings.primary_button_text | escape }}">
        {{ section.settings.primary_button_text }}
        <svg class="ml-2" style="width:1.5rem; height:1.5rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          aria-hidden="true" role="img" focusable="false">
          <line x1="5" y1="12" x2="19" y2="12" />
          <polyline points="12,5 19,12 12,19" />
        </svg>
      </a>
      {% if section.settings.video_url != blank %}
        <button
          type="button"
          class="hero-secondary-btn-{{ section.id }}"
          role="button"
          aria-label="{{ section.settings.secondary_button_text | escape }} demo for {{ section.settings.hero_headline_primary | escape }}"
          title="{{ section.settings.secondary_button_text | escape }}"
          data-video-modal-trigger>
          <svg class="mr-2" style="width:1.5rem; height:1.5rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            aria-hidden="true" role="img" focusable="false">
            <polygon points="5,3 19,12 5,21 5,3" />
          </svg>
          {{ section.settings.secondary_button_text }}
        </button>
      {% else %}
        <a href="{{ section.settings.secondary_button_link }}"
           class="hero-secondary-btn-{{ section.id }}"
           role="button"
           aria-label="{{ section.settings.secondary_button_text | escape }} for {{ section.settings.hero_headline_primary | escape }}"
           title="{{ section.settings.secondary_button_text | escape }}">
          <svg class="mr-2" style="width:1.5rem; height:1.5rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            aria-hidden="true" role="img" focusable="false">
            <polygon points="5,3 19,12 5,21 5,3" />
          </svg>
          {{ section.settings.secondary_button_text }}
        </a>
      {% endif %}
    </div>



    {%- if section.settings.video_url != blank -%}
      <div id="hero-video-modal-{{ section.id }}" class="fixed z-50 inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden" tabindex="-1" aria-modal="true" role="dialog">
        <div class="relative w-full max-w-2xl mx-auto bg-transparent p-0 flex items-center justify-center">
          <button type="button" class="absolute top-0 right-0 m-4 text-white text-3xl p-1 bg-black bg-opacity-40 rounded-full z-10"
            aria-label="Close video modal" data-video-modal-close>&times;</button>
          <div class="relative pt-[56.25%] w-full h-0">
            {% if section.settings.video_url contains 'youtube.com' or section.settings.video_url contains 'youtu.be' %}
              <iframe src="https://www.youtube.com/embed/{{ section.settings.video_url | split: 'v=' | last | split: '&' | first }}{% if section.settings.video_autoplay %}?autoplay=1{% endif %}" frameborder="0"
                allowfullscreen class="absolute inset-0 w-full h-full rounded-lg" aria-label="Video"></iframe>
            {% elsif section.settings.video_url contains 'vimeo.com' %}
              <iframe src="https://player.vimeo.com/video/{{ section.settings.video_url | split: '/' | last }}{% if section.settings.video_autoplay %}?autoplay=1{% endif %}" frameborder="0"
                allowfullscreen class="absolute inset-0 w-full h-full rounded-lg" aria-label="Video"></iframe>
            {% else %}
              <video src="{{ section.settings.video_url }}" controls {% if section.settings.video_autoplay %}autoplay{% endif %} class="absolute inset-0 w-full h-full rounded-lg" aria-label="Video"></video>
            {% endif %}
          </div>
        </div>
      </div>
      <script>
        (function() {
          var modal = document.getElementById('hero-video-modal-{{ section.id }}');
          var openBtn = document.querySelector('[data-video-modal-trigger]');
          var closeBtn = modal && modal.querySelector('[data-video-modal-close]');
          if(openBtn && modal) {
            openBtn.addEventListener('click', function() {
              modal.classList.remove('hidden');
              modal.focus();
            });
          }
          if(closeBtn && modal) {
            closeBtn.addEventListener('click', function() {
              modal.classList.add('hidden');
            });
          }
          window.addEventListener('keydown', function(e) {
            if(e.key === "Escape" && modal && !modal.classList.contains('hidden')) {
              modal.classList.add('hidden');
            }
          });
          if(modal) {
            modal.addEventListener('click', function(e) {
              if(e.target === modal) {
                modal.classList.add('hidden');
              }
            });
          }
        })();
      </script>
    {%- endif -%}
  </div>
  {%- if section.settings.show_scroll_indicator -%}
    <div class="absolute left-1/2 bottom-6 z-0 -translate-x-1/2">
      {% render 'scroll-indicator' %}
    </div>
  {%- endif -%}
</section>
